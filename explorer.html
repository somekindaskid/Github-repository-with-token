<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Somekinds API abuser</title>

<style>
/* ======== GLOBAL ======== */
body {
  margin: 0;
  padding: 20px;
  background: #000;
  color: #33ff33;
  font-family: "Courier New", monospace;
}

/* subtle CRT scanlines */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,0.03),
    rgba(255,255,255,0.03) 1px,
    transparent 1px,
    transparent 3px
  );
  pointer-events: none;
}

h1 {
  text-align: center;
  margin-bottom: 15px;
}

/* ======== CONTROLS ======== */
#controls {
  border: 1px solid #33ff33;
  padding: 10px;
  margin-bottom: 10px;
}

label {
  display: inline-block;
  margin-right: 5px;
}

input {
  background: #000;
  color: #33ff33;
  border: 1px solid #33ff33;
  font-family: inherit;
  padding: 3px;
  margin-right: 10px;
}

button {
  background: #000;
  color: #33ff33;
  border: 1px solid #33ff33;
  font-family: inherit;
  padding: 4px 10px;
  cursor: pointer;
}

button:hover {
  background: #33ff33;
  color: #000;
}

/* ======== LAYOUT ======== */
#container {
  display: flex;
  height: 70vh;
  border: 1px solid #33ff33;
}

/* ======== FILE TREE ======== */
#files {
  width: 30%;
  border-right: 1px solid #33ff33;
  padding: 5px;
  overflow-y: auto;
}

.file, .dir {
  cursor: pointer;
  padding-left: 5px;
}

.dir::before {
  content: "[+] ";
}

.file::before {
  content: "    ";
}

.dir:hover, .file:hover {
  background: rgba(51,255,51,0.15);
}

/* ======== VIEWER ======== */
#viewer {
  width: 70%;
  padding: 10px;
  overflow: auto;
  white-space: pre-wrap;
}

/* scrollbar */
::-webkit-scrollbar {
  width: 6px;
}
::-webkit-scrollbar-thumb {
  background: #33ff33;
}
</style>
</head>

<body>

<h1>RETRO GITHUB FILE EXPLORER</h1>

<div id="controls">
  <label>Owner:</label>
  <input id="owner" placeholder="Quirify1">

  <label>Repo:</label>
  <input id="repo" placeholder="rftvzbghij">

  <label>Token (optional):</label>
  <input id="token" type="password" placeholder="github_pat_...">

  <button onclick="loadRepo()">LOAD</button>
</div>

<div id="container">
  <div id="files"></div>
  <div id="viewer">// select a file</div>
</div>

<script>
let currentOwner = "";
let currentRepo = "";
let authHeaders = {};

async function loadRepo(path = "") {
  const filesDiv = document.getElementById("files");

  if (path === "") {
    filesDiv.innerHTML = "";
    currentOwner = document.getElementById("owner").value.trim();
    currentRepo = document.getElementById("repo").value.trim();
    const token = document.getElementById("token").value.trim();

    authHeaders = token ? { Authorization: `Bearer ${token}` } : {};
  }

  const url = `https://api.github.com/repos/${currentOwner}/${currentRepo}/contents/${path}`;
  const res = await fetch(url, { headers: authHeaders });
  const data = await res.json();

  for (const item of data) {
    const div = document.createElement("div");
    div.textContent = item.name;
    div.className = item.type === "dir" ? "dir" : "file";

    if (item.type === "dir") {
      div.onclick = () => loadRepo(item.path);
    } else {
      div.onclick = async () => {
        document.getElementById("viewer").textContent = "loading...";
        const file = await fetch(item.download_url);
        document.getElementById("viewer").textContent =
          await file.text();
      };
    }

    filesDiv.appendChild(div);
  }
}
</script>

</body>
</html>
